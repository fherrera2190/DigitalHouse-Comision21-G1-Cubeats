<!DOCTYPE html>
<html lang="es">
	<%- include('./partials/head', { title : 'Cubeats' }) %>

	<body
		class="font-Manrope text-base bg-zinc-950 text-white font-medium flex flex-col min-h-screen"
	>
		<%- include("./partials/header") %>
		<main class="flex-1 grow">
			<article
				class="flex flex-col gap-12 py-12 px-4 md:px-14 container mx-auto"
			>
				<div class="flex flex-col gap-7">
					<div class="flex flex-col gap-7">
						<p class="text-xl font-medium pb-1 border-b-2 border-white w-fit">
							Mis datos
						</p>
						<hr class="flex-1 border border-zinc-900 w-full" />
					</div>
					<form
						action="/users/profile/update/<%=locals.userLogged.username%>?_method=PUT"
						method="POST"
						enctype="multipart/form-data"
						class="flex flex-col lg:flex-row justify-around px-7 py-20 items-center gap-12 bg-zinc-900 rounded-md font-normal"
					>
						<!-- invert -->
						<div class="flex flex-col items-center gap-8">
							<img
								id="previewImage"
								src="/img/users/<%= userDatos.image||'default1.webp' %>"
								alt=""
								class="rounded-full w-60 h-60 object-cover"
							/>
							<!-- invert en light -->
							<input
								name="image"
								id="image"
								type="file"
								class="rounded-sm placeholder:text-zinc-500 text-zinc-500 transition-all ease-in-out font-normal text-sm w-72 md:w-96"
							/>
						</div>
						<div class="flex flex-col items-stretch w-72 md:w-96 gap-4">
							<label for="first_name">Nombre</label>
							<input
								type="text"
								name="first_name"
								id="first_name"
								placeholder="Ingresa tu nombre"
								value="<%= userDatos.first_name  %>"
								class="py-4 bg-[#1f1f23] rounded-sm pl-4 placeholder:text-zinc-500 text-zinc-500"
							/>

							<label for="first_name">Apellido</label>
							<input
								type="text"
								name="last_name"
								id="last_name"
								placeholder="Ingresa tu apellido"
								value="<%= userDatos.last_name %>"
								class="py-4 bg-[#1f1f23] rounded-sm pl-4 placeholder:text-zinc-500 text-zinc-500"
							/>

							<label for="first_name">Descripción</label>
							<textarea
								name="description"
								id="description"
								placeholder="<%= userDatos.description ||'Aquí todavía no hay descripción.' %>"
								class="py-4 bg-[#1f1f23] rounded-sm pl-4 placeholder:text-zinc-500 text-zinc-500 min-h-[150px] max-h-[150px]"
							></textarea>
							<div
								class="flex items-center gap-4 py-4 bg-orange-600 rounded-sm pl-5 text-black font-normal orange-error hidden"
							>
								<i class="fa-solid fa-circle-exclamation text-2xl"></i>
								<span id="input-error" class="error" aria-live="polite">
									Debes agregar una descripción
								</span>
							</div>
							<button
								type="submit"
								class="p-4 bg-[#1f2937] hover:bg-slate-700 rounded-sm text-white font-semibold transition-all ease-in-out"
							>
								Guardar
							</button>
						</div>
					</form>
				</div>
			</article>
		</main>
		<%- include('./partials/footer.ejs')%>
		<script src="https://unpkg.com/wavesurfer.js"></script>
		<script src="/js/myData.js"></script>
	</body>
</html>
